# Story 4.2: Keypoint Schema Definition

**Status:** To Do
**Assignee:** U2 (Anton Shkrebela)
**Priority:** High
**Sprint:** 4 - Keypoint Detection

---

## Description

As a researcher, I want to define the 20-point keypoint schema for dog faces.

---

## Acceptance Criteria

- [ ] 20 facial keypoints defined with clear names
- [ ] Keypoint positions documented with visual guide
- [ ] Skeleton connections defined
- [ ] Schema added to codebase

---

## Tasks

- [ ] Define keypoint names and positions
- [ ] Create visual diagram of keypoints
- [ ] Define skeleton for visualization
- [ ] Document in code and markdown

---

## Keypoint Schema

| ID | Name | Description |
|----|------|-------------|
| 0 | left_eye | Left eye center |
| 1 | right_eye | Right eye center |
| 2 | nose | Nose tip |
| 3 | left_ear_base | Base of left ear |
| 4 | right_ear_base | Base of right ear |
| 5 | left_ear_tip | Tip of left ear |
| 6 | right_ear_tip | Tip of right ear |
| 7 | left_mouth_corner | Left corner of mouth |
| 8 | right_mouth_corner | Right corner of mouth |
| 9 | upper_lip | Center of upper lip |
| 10 | lower_lip | Center of lower lip |
| 11 | chin | Chin point |
| 12 | left_cheek | Left cheek |
| 13 | right_cheek | Right cheek |
| 14 | forehead | Center forehead |
| 15 | left_eyebrow | Left eyebrow (inner) |
| 16 | right_eyebrow | Right eyebrow (inner) |
| 17 | muzzle_top | Top of muzzle |
| 18 | muzzle_left | Left side of muzzle |
| 19 | muzzle_right | Right side of muzzle |

---

## Skeleton Connections

```python
SKELETON = [
    [0, 1],   # left_eye - right_eye
    [0, 2],   # left_eye - nose
    [1, 2],   # right_eye - nose
    [0, 15],  # left_eye - left_eyebrow
    [1, 16],  # right_eye - right_eyebrow
    [3, 5],   # left_ear_base - left_ear_tip
    [4, 6],   # right_ear_base - right_ear_tip
    [2, 9],   # nose - upper_lip
    [9, 10],  # upper_lip - lower_lip
    [10, 11], # lower_lip - chin
    [7, 9],   # left_mouth - upper_lip
    [8, 9],   # right_mouth - upper_lip
]
```

---

## Output

- `packages/data/schemas.py` (Keypoints class)
- `docs/plans/keypoint-schema.md`
